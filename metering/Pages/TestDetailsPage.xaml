<local:BasePage 
    x:TypeArguments="core:TestDetailsViewModel"
    x:Class="metering.TestDetailsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:metering"
    xmlns:core="clr-namespace:metering.core;assembly=metering.core" 
    xmlns:resources="clr-namespace:metering.Resources"
    mc:Ignorable="d" 
    d:DesignHeight="450" d:DesignWidth="800">

    <Page.Background>
        <ImageBrush Opacity="0.1" ImageSource="/metering;component/Resources/beckwith-letterhead.png"/>
    </Page.Background>
    
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <!--<RowDefinition Height="80"/>-->
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="600"/>
                <!--<ColumnDefinition Width="*"/>-->
                <ColumnDefinition Width="200"/>
            </Grid.ColumnDefinitions>

            <!-- Register -->
            <Viewbox Grid.Column="0">
                <TextBox 
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_register}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="0"
                    Padding="0 0 5 0"
                    FontSize="16"                     
                    HorizontalContentAlignment="Center" 
                    Text="{Binding Register, UpdateSourceTrigger=PropertyChanged}"/>
            </Viewbox>

            <!-- Progress bar and text -->
            <Viewbox Grid.Column="1">

                <StackPanel>
                    <!-- Progress Bar -->
                    <ProgressBar 
                        x:Name="testProgressBar" 
                        Minimum="0" 
                        Maximum="100" 
                        Margin="5" 
                        Height="20"
                        Style="{DynamicResource MaterialDesignCircularProgressBar}"
                        VerticalContentAlignment="Center"
                        VerticalAlignment="Bottom"                        
                        TextOptions.TextFormattingMode="Display"
                        IsIndeterminate="False" 
                        Value="{Binding Progress, FallbackValue=0, IsAsync=True}">
                        <!--materialDesign:ButtonProgressAssist.Value="{Binding Path=progress, UpdateSourceTrigger=PropertyChanged}"
                        <i:Interaction.Behaviors>
                            <local:ProgresBarAnimateBehavior x:Name="AnimateBehavior" />
                        </i:Interaction.Behaviors>-->
                    </ProgressBar>
                    <Label
                        HorizontalContentAlignment="Center"
                        Content="{Binding Value, ElementName=testProgressBar}"/>
                </StackPanel>
            </Viewbox>
        </Grid>


        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Dwell Time -->
            <Viewbox Grid.Column="0">
                <TextBox 
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_dwell_time}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="1"  
                    Padding="5"
                    Width="180"
                    HorizontalContentAlignment="Center" 
                    Text="{Binding DwellTime, UpdateSourceTrigger=PropertyChanged}"/>
            </Viewbox>
            
            <!-- Start Delay Time -->
            <Viewbox Grid.Column="1">
                <TextBox
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_start_delay_time}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="2"  
                    Padding="5"
                    Width="180"
                    HorizontalContentAlignment="Center" 
                    Text="{Binding StartDelayTime, UpdateSourceTrigger=PropertyChanged}"/>
            </Viewbox>
            
            <!-- Measurement Interval -->
            <Viewbox Grid.Column="2">
                <TextBox                 
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_measurement_interval}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="3"  
                    Padding="5"
                    Width="180"                     
                    HorizontalContentAlignment="Center" 
                    Text="{Binding MeasurementInterval, UpdateSourceTrigger=PropertyChanged}"/>
            </Viewbox>
            

            <!-- Start Measurement Delay -->
            <Viewbox Grid.Column="3">
                <TextBox 
                    x:Name="startMeasurementDelay"
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_start_measurement_delay}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="4"  
                    Padding="5"
                    Width="180"                     
                    HorizontalContentAlignment="Center" 
                    Text="{Binding StartMeasurementDelay, UpdateSourceTrigger=PropertyChanged}"/>
            </Viewbox>            
        </Grid>

        <!-- Analog signal values -->
        <Grid Grid.Row="2">
                <local:AnalogSignalListControl>
                    <!--<local:AnalogSignalListItemControl/>-->
                </local:AnalogSignalListControl>            
        </Grid>
        
        <!--<Grid Grid.Row="3" Visibility="Collapsed">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            
            --><!-- Cancel Button --><!--
            <Controls:Tile x:Name="Cancel" 
                           Title="{x:Static resources:Strings.cancelTest}"
                           Width="Auto"
                           Height="Auto" 
                           Margin="1,0,0,0" 
                           VerticalTitleAlignment="Bottom" 
                           HorizontalTitleAlignment="Center"
                           Background="Red"                  
                           Grid.Column="2" 
                           Grid.Row="2">
                <Grid>
                    <iconPacks:PackIconMaterial Kind="Cancel" Height="50" Width="50" Margin="0,-17.017,0,0"/>
                </Grid>
            </Controls:Tile>
            
            --><!-- Start Test Button--><!--
            <Controls:Tile 
                x:Name="StartTest" 
                Title="{x:Static resources:Strings.startTest}" 
                Width="Auto"
                Height="Auto" 
                Margin="1,0,0,0" 
                VerticalTitleAlignment="Bottom" 
                HorizontalTitleAlignment="Center" 
                Background="Lime" 
                Grid.Column="1" >
                <Grid>
                    <iconPacks:PackIconEntypo Kind="ControllerPlay" Height="50" Width="50" Margin="0,-17.017,0,0" BorderBrush="Black"/>
                </Grid>
            </Controls:Tile>
        </Grid>-->

        <!--<Button Command="{x:Static NavigationCommands.BrowseBack}"
                Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}" Background="Red">
            <iconPacks:PackIconMaterial Kind="Cancel" Height="50" Width="50" Margin="0,-17.017,0,0"/>
        </Button>-->

    </Grid>
</local:BasePage>
