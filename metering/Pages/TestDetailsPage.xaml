<UserControl
    x:Class="metering.TestDetailsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:resources="clr-namespace:metering.Resources"
    xmlns:local="clr-namespace:metering"
    mc:Ignorable="d" 
    d:DesignHeight="450" d:DesignWidth="800"
    d:DataContext="{d:DesignInstance IsDesignTimeCreatable=False}">

    <UserControl.Background>
        <ImageBrush Opacity="0.1" ImageSource="/metering;component/Resources/beckwith-letterhead.png"/>
    </UserControl.Background>
    
    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="5*"/>
            <RowDefinition Height="80"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">

            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <!-- Register and Progress Bar-->
            <Grid 
                Grid.Column="0"
                Margin="5">

                <!-- Register -->
                <TextBox 
                    materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_register}"
                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                    TabIndex="0"  
                    Margin="5"
                    Height="60"
                    FontSize="24"                     
                    HorizontalContentAlignment="Center" 
                    Text="{Binding Register, UpdateSourceTrigger=PropertyChanged}"/>
            </Grid>

            <Grid 
                Grid.Column="3"
                Margin="5">

                <StackPanel>

                    <!-- Progress Bar -->
                    <ProgressBar 
                        x:Name="testProgressBar" 
                        Minimum="0" 
                        Maximum="100" 
                        Margin="5" 
                        Height="20"
                        Style="{DynamicResource MaterialDesignCircularProgressBar}"
                        VerticalContentAlignment="Center"
                        VerticalAlignment="Bottom"                        
                        TextOptions.TextFormattingMode="Display"
                        IsIndeterminate="False" 
                        Value="{Binding Progress, FallbackValue=0, IsAsync=True}">
                        <!--materialDesign:ButtonProgressAssist.Value="{Binding Path=progress, UpdateSourceTrigger=PropertyChanged}"
                        <i:Interaction.Behaviors>
                            <local:ProgresBarAnimateBehavior x:Name="AnimateBehavior" />
                        </i:Interaction.Behaviors>-->
                    </ProgressBar>
                    <Label
                        HorizontalContentAlignment="Center"
                        Content="{Binding Value, ElementName=testProgressBar}"/>
                </StackPanel>
            </Grid>
        </Grid>


        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>

            <!-- Dwell Time -->
            <TextBox 
                Grid.Column="0"
                materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_dwell_time}"
                Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                TabIndex="1"  
                Margin="5"
                Width="180"
                HorizontalContentAlignment="Center" 
                Text="{Binding DwellTime, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Start Delay Time -->
            <TextBox
                Grid.Column="1"
                materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_start_delay_time}"
                Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                TabIndex="2"  
                Margin="5"
                Width="180"
                HorizontalContentAlignment="Center" 
                Text="{Binding StartDelayTime, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Measurement Interval -->
            <TextBox 
                Grid.Column="2"
                materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_measurement_interval}"
                Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                TabIndex="3"  
                Margin="5"
                Width="180"                     
                HorizontalContentAlignment="Center" 
                Text="{Binding MeasurementInterval, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Start Measurement Delay -->
            <TextBox 
                x:Name="startMeasurementDelay"
                Grid.Column="3"
                materialDesign:HintAssist.Hint="{x:Static resources:Strings.header_start_measurement_delay}"
                Style="{StaticResource MaterialDesignFloatingHintTextBox}" 
                TabIndex="4"  
                Margin="5"
                Width="180"                     
                HorizontalContentAlignment="Center" 
                Text="{Binding StartMeasurementDelay, UpdateSourceTrigger=PropertyChanged}"/>

        </Grid>

        <Grid Grid.Row="2">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
                <Frame 
                    x:Name="MainFrame"
                    BorderBrush="Black" 
                    BorderThickness="1" 
                    ClipToBounds="True" 
                    NavigationUIVisibility="Hidden" 
                    Source="\Pages\TestDetailPage.xaml">
                    <!--Content="{Binding TestDetailView, Converter={local:ApplicationPageValueConverter}}">-->

                </Frame>
            </ScrollViewer>
        </Grid>
        
        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Cancel Button -->
            <Controls:Tile x:Name="Cancel" 
                           Title="{x:Static resources:Strings.cancelTest}"
                           Width="Auto"
                           Height="Auto" 
                           Margin="1,0,0,0" 
                           VerticalTitleAlignment="Bottom" 
                           HorizontalTitleAlignment="Center"
                           Background="Red"                  
                           Grid.Column="2" 
                           Grid.Row="2">
                <Grid>
                    <iconPacks:PackIconMaterial Kind="Cancel" Height="50" Width="50" Margin="0,-17.017,0,0"/>
                </Grid>
            </Controls:Tile>
            
            <!-- Start Test Button-->
            <Controls:Tile 
                x:Name="StartTest" 
                Title="{x:Static resources:Strings.startTest}" 
                Width="Auto"
                Height="Auto" 
                Margin="1,0,0,0" 
                VerticalTitleAlignment="Bottom" 
                HorizontalTitleAlignment="Center" 
                Background="Lime" 
                Grid.Column="1" >
                <Grid>
                    <iconPacks:PackIconEntypo Kind="ControllerPlay" Height="50" Width="50" Margin="0,-17.017,0,0" BorderBrush="Black"/>
                </Grid>
            </Controls:Tile>
        </Grid>

        <!--<Button Command="{x:Static NavigationCommands.BrowseBack}"
                Style="{DynamicResource MahApps.Metro.Styles.MetroCircleButtonStyle}" Background="Red">
            <iconPacks:PackIconMaterial Kind="Cancel" Height="50" Width="50" Margin="0,-17.017,0,0"/>
        </Button>-->

    </Grid>
</UserControl>
